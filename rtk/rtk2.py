import serial
import socket

serial_port = serial.Serial('COM9', 57600)
esp32_ip = '192.168.0.255'  #broadcast
esp32_port = 14555 

# Create a UDP socket
udp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

data1 = b'\xd3\x00PC \x00C\xce\x17\xe6\x00\x00\x10\x00\x80!\x00\x00\x00\x00 \x00\x80\x00W$\xa1\xa2%\xc8\xbc\xeb\xef\x84v\xa6\xfd\xa7\x94\xf71/\x07\x0f\xbak\xbf\xf0f\xf1\x1f/\xca\xe5\xaf|\t?\x7f\xf0\x11G\x14.\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00+\xd5\x1a\xd3\x003C\xc0\x00h\x93\xdc\xa6\x00\x00\x01@\x00\x00\x00\x00\x00\x00 \x80\x00\x00Z*F\xfe\xb1\x1ba!\xe2G 4\xd4p\x83\x9aB\x1e\x7f\xb9\xc0\xe3\x0e\x80\x00\x00\x00\x00\x00\x00]\xfb\x0e\xd3\x00AD`\x00C\xce\x17\xe6\x00\x00\x00\x00\x00\xc0 \x00\x00\x00 \x01\x00\x00j\xa0\x9e\xb1\x97\xcd\x81G\xc8\xc0\x1a\x9fr\x89X\x7f>\xe2\x00\x06G\xf4H\xe1":\xc7o\x83\xb17 \x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00A$ \xd3\x00^F@\x00C\xcd=&\x00\x00\x01d\x08\x00\x00\x00\x00\x00 \x02\x00\x00=O\xb0\x0f\x8f)e\xc8\xe9\x8bg\x16\xa1\xabm\xd6\xbb\x98D$\x9aJ3h\x1a\x84\x8f\xb8\xfd~\xd0\x9b\x81\xf5>\x1auP`\xe3\xb9\xdb5\x80<\xeb\xee6\xf8\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xa0\x8a\xaf\xb5b\x01\x07\\\x00\xf8\x85\xf3\x10\xe7\x07\x0b\x0f\x06;%7\x07\x00\x00\x00\x8c1\x01\x00\x03\x01\xea\x19\x9am\n'
data2 = b'0v\xc4S\x04\x1e/\x06\x00p\xa5\x07\x00a\x07\x00\x000\x0c\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\xf2\xff\xff\xff\x04\x00\x00\x00\x00\x00\x00\x00\x1f\x00\x00\x00\xc4P\xee\x00x\x00\x00\x00\xbaeC,\x00\x00\x00\x00\x00\x00\x00\x00Y\xb2\xb5b\x01;(\x00\x00\x00\x00\x00\xf8\x85\xf3\x10j\x1d\x00\x00A$)\x06\x8f\xae5%\xbf\xc4\xc5\x04\xe0\xd3\xd4\x004@\x03\x00+\x1d\x00\x00\x00\x01\x00\x00)\x15$GNRMC,065937.00,A,0715.59187,N,08035.93872,E,0.008,,151123,,,A,V*1F\r\n'+b'$GNVTG,,T,,M,0.008,N,0.014,K,A*30\r\n'+b'$GNGGA,065937.00,0715.59187,N,08035.93872,E,1,12,0.59,501.1,M,-95.8,M,,*67\r\n'+b'$GNGSA,A,3,10,16,32,21,31,03,26,27,,,,,1.20,0.59,1.04,1*0F\r\n'+b'$GNGSA,A,3,74,73,71,,,,,,,,,,1.20,0.59,1.04,2*09\r\n'+b'$GNGSA,A,3,09,24,36,34,25,,,,,,,,1.20,0.59,1.04,3*03\r\n'+b'$GNGSA,A,3,20,13,08,09,16,07,10,,,,,,1.20,0.59,1.04,4*0E\r\n'+b'$GPGSV,3,1,12,02,28,235,10,03,39,329,34,04,11,319,22,08,10,198,,1*68\r\n'+b'$GPGSV,3,2,12,10,15,144,22,16,70,137,35,21,29,226,12,26,61,055,34,1*68\r\n'+b'$GPGSV,3,3,12,27,20,161,19,28,13,032,,31,30,015,28,32,17,082,21,1*66\r\n'+b'$GPGSV,3,1,12,02,28,235,,03,39,329,26,04,11,319,,08,10,198,,6*6D\r\n'+b'$GPGSV,3,2,12,10,15,144,11,16,70,137,,21,29,226,,26,61,055,33,6*6D\r\n'+b'$GPGSV,3,3,12,27,20,161,21,28,13,032,,31,30,015,20,32,17,082,20,6*63\r\n'+b'$GLGSV,2,1,08,70,37,092,,71,39,023,28,72,11,341,,73,30,018,24,1*77\r\n'+b'$GLGSV,2,2,08,74,72,334,22,75,39,221,,85,06,191,,86,10,236,09,1*78\r\n'+b'$GLGSV,2,1,08,70,37,092,,71,39,023,23,72,11,341,,73,30,018,29,3*73\r\n'+b'$GLGSV,2,2,08,74,72,334,,75,39,221,24,85,06,191,,86,10,236,08,3*7D\r\n'+b'$GAGSV,3,1,10,02,12,209,,03,05,312,,04,03,100,,09,31,059,23,7*7C\r\n'+b'$GAGSV,3,2,10,11,10,164,,24,56,056,29,25,60,188,25,31,09,038,08,7*73\r\n'+b'$GAGSV,3,3,10,34,25,269,24,36,31,210,08,7*75\r\n'+b'$GAGSV,3,1,10,02,12,209,,03,05,312,,04,03,100,,09,31,059,21,2*7B\r\n'+b'$GAGSV,3,2,10,11,10,164,,24,56,056,34,25,60,188,27,31,09,038,,2*70\r\n'+b'$GAGSV,3,3,10,34,25,269,36,36,31,210,23,2*7A\r\n'+b'$GBGSV,5,1,17,01,17,095,,02,81,153,,03,54,103,,04,02,093,,1*7F\r\n'+b'$GBGSV,5,2,17,05,63,255,,06,30,021,,07,46,121,20,08,44,167,21,1*7D\r\n'+b'$GBGSV,5,3,17,09,38,003,29,10,47,143,28,13,54,174,27,16,26,026,19,1*79\r\n'+b'$GBGSV,5,4,17,19,51,004,,20,50,092,31,22,09,328,,29,15,198,,1*78\r\n'+b'$GBGSV,5,5,17,30,09,146,,1*49\r\n'+b'$GBGSV,5,1,17,01,17,095,,02,81,153,,03,54,103,,04,02,093,,3*7D\r\n'+b'$GBGSV,5,2,17,05,63,255,,06,30,021,,07,46,121,30,08,44,167,26,3*79\r\n'+b'$GBGSV,5,3,17,09,38,003,31,10,47,143,17,13,54,174,22,16,26,026,22,3*73\r\n'+b'$GBGSV,5,4,17,19,51,004,,20,50,092,,22,09,328,,29,15,198,,3*78\r\n'+b'$GBGSV,5,5,17,30,09,146,,3*4B\r\n'+b'$GNGLL,0715.59187,N,08035.93872,E,065937.00,A,A*71\r\n'
data3 = b'$GNVTG,,T,,M,0.008,N,0.014,K,A*30\r\n'
print(len(data3))

# while True:
#     data = serial_port.readline()
#     # udp_socket.sendto(data1, (esp32_ip, esp32_port))
#     # print(data1)

#     # udp_socket.sendto(data2, (esp32_ip, esp32_port))
#     # print(data2)

#     udp_socket.sendto(data3, (esp32_ip, esp32_port))            
#     print(data3)                                                

udp_socket.sendto(data1, (esp32_ip, esp32_port))
# udp_socket.sendto(data2, (esp32_ip, esp32_port))
# udp_socket.sendto(data3, (esp32_ip, esp32_port))